import{s as Tt,n as Ve,r as bl,o as El,b as Qt,a as Dt,d as Ut}from"../chunks/scheduler.AMfUPaqd.js";import{S as It,i as kt,e as u,t as ne,s as A,c as d,a as g,b as se,d as c,f as y,o as p,J as Xt,g as ee,h as r,r as Ie,j as be,y as ye,k as Zt,l as rt,m as le,n as ot,p as at,q as Ke,u as ge,v as wl,w as Te,x as it,A as nt,B as zl,z as Lt,C as $t,D as xt,E as Ct}from"../chunks/index.sOBxWm11.js";import{e as re}from"../chunks/each.6w4Ej4nR.js";import{C as Il}from"../chunks/cite.ugS6krW8.js";import{e as Ze}from"../chunks/shared.sqUOs3Mb.js";import{m as kl}from"../chunks/moment-with-locales.Tlx9Vr_q.js";import{P as Ll}from"../chunks/pagination.sZ4gtyRv.js";import{g as Sl}from"../chunks/globals.0cDDIVm6.js";function el(l,e,o){const t=l.slice();return t[6]=e[o],t}function tl(l,e,o){const t=l.slice();return t[9]=e[o],t}function ll(l){let e,o,t=l[9].nome+"",a,i,v,z=l[9].count+"",w,I,F;return{c(){e=u("dt"),o=u("small"),a=ne(t),i=u("dd"),v=u("small"),w=ne(z),I=ne(" candidature"),F=A(),this.h()},l(k){e=d(k,"DT",{class:!0});var C=g(e);o=d(C,"SMALL",{});var L=g(o);a=se(L,t),L.forEach(c),C.forEach(c),i=d(k,"DD",{class:!0});var E=g(i);v=d(E,"SMALL",{});var O=g(v);w=se(O,z),I=se(O," candidature"),O.forEach(c),F=y(E),E.forEach(c),this.h()},h(){p(e,"class","col-sm-4"),p(i,"class","col-sm-8")},m(k,C){ee(k,e,C),r(e,o),r(o,a),ee(k,i,C),r(i,v),r(v,w),r(v,I),r(i,F)},p(k,C){C&1&&t!==(t=k[9].nome+"")&&be(a,t),C&1&&z!==(z=k[9].count+"")&&be(w,z)},d(k){k&&(c(e),c(i))}}}function rl(l){let e,o,t=l[6].nome+"",a,i,v,z=Ze(l[6].value)+"",w,I;return{c(){e=u("dt"),o=u("small"),a=ne(t),i=u("dd"),v=u("small"),w=ne(z),I=A(),this.h()},l(F){e=d(F,"DT",{class:!0});var k=g(e);o=d(k,"SMALL",{});var C=g(o);a=se(C,t),C.forEach(c),k.forEach(c),i=d(F,"DD",{class:!0});var L=g(i);v=d(L,"SMALL",{});var E=g(v);w=se(E,z),E.forEach(c),I=y(L),L.forEach(c),this.h()},h(){p(e,"class","col-sm-4"),p(i,"class","col-sm-8")},m(F,k){ee(F,e,k),r(e,o),r(o,a),ee(F,i,k),r(i,v),r(v,w),r(i,I)},p(F,k){k&1&&t!==(t=F[6].nome+"")&&be(a,t),k&1&&z!==(z=Ze(F[6].value)+"")&&be(w,z)},d(F){F&&(c(e),c(i))}}}function Al(l){let e,o,t,a,i,v,z,w=l[0].Name+"",I,F,k,C,L,E,O,R,P,$,j,J,he,W=re(l[0].conteggioFornitori.filter(ol)),V=[];for(let f=0;f<W.length;f+=1)V[f]=ll(tl(l,W,f));let _=re(l[0].valoreFornitori.filter(al)),n=[];for(let f=0;f<_.length;f+=1)n[f]=rl(el(l,_,f));return{c(){e=u("div"),o=u("div"),t=u("div"),a=u("div"),i=u("div"),v=u("span"),z=u("strong"),I=ne(w),F=A(),k=u("hr"),C=A(),L=u("div"),E=u("dl");for(let f=0;f<V.length;f+=1)V[f].c();O=A(),R=u("hr"),P=A(),$=u("div"),j=u("dl");for(let f=0;f<n.length;f+=1)n[f].c();this.h()},l(f){e=d(f,"DIV",{class:!0});var b=g(e);o=d(b,"DIV",{class:!0});var h=g(o);t=d(h,"DIV",{class:!0});var D=g(t);a=d(D,"DIV",{class:!0});var N=g(a);i=d(N,"DIV",{class:!0});var S=g(i);v=d(S,"SPAN",{class:!0});var T=g(v);z=d(T,"STRONG",{});var Y=g(z);I=se(Y,w),Y.forEach(c),T.forEach(c),S.forEach(c),N.forEach(c),F=y(D),k=d(D,"HR",{}),C=y(D),L=d(D,"DIV",{});var oe=g(L);E=d(oe,"DL",{class:!0});var K=g(E);for(let Q=0;Q<V.length;Q+=1)V[Q].l(K);K.forEach(c),oe.forEach(c),O=y(D),R=d(D,"HR",{}),P=y(D),$=d(D,"DIV",{});var ae=g($);j=d(ae,"DL",{class:!0});var B=g(j);for(let Q=0;Q<n.length;Q+=1)n[Q].l(B);B.forEach(c),ae.forEach(c),D.forEach(c),h.forEach(c),b.forEach(c),this.h()},h(){p(v,"class","text text-primary"),p(i,"class","categoryicon-top float-start"),p(a,"class","clearfix"),p(E,"class","row"),p(j,"class","row"),p(t,"class","callout callout-highlight primary fullheight shadow py-4 px-2 svelte-alfbgo"),Xt(t,"neutral-2-bg-a1",l[1]),p(o,"class","col-12 col-lg-12"),p(e,"class","row fullheight svelte-alfbgo")},m(f,b){ee(f,e,b),r(e,o),r(o,t),r(t,a),r(a,i),r(i,v),r(v,z),r(z,I),r(t,F),r(t,k),r(t,C),r(t,L),r(L,E);for(let h=0;h<V.length;h+=1)V[h]&&V[h].m(E,null);r(t,O),r(t,R),r(t,P),r(t,$),r($,j);for(let h=0;h<n.length;h+=1)n[h]&&n[h].m(j,null);J||(he=[Ie(t,"focus",l[2]),Ie(t,"blur",l[3]),Ie(t,"mouseover",l[4]),Ie(t,"mouseout",l[5])],J=!0)},p(f,[b]){if(b&1&&w!==(w=f[0].Name+"")&&be(I,w),b&1){W=re(f[0].conteggioFornitori.filter(ol));let h;for(h=0;h<W.length;h+=1){const D=tl(f,W,h);V[h]?V[h].p(D,b):(V[h]=ll(D),V[h].c(),V[h].m(E,null))}for(;h<V.length;h+=1)V[h].d(1);V.length=W.length}if(b&1){_=re(f[0].valoreFornitori.filter(al));let h;for(h=0;h<_.length;h+=1){const D=el(f,_,h);n[h]?n[h].p(D,b):(n[h]=rl(D),n[h].c(),n[h].m(j,null))}for(;h<n.length;h+=1)n[h].d(1);n.length=_.length}b&2&&Xt(t,"neutral-2-bg-a1",f[1])},i:Ve,o:Ve,d(f){f&&c(e),ye(V,f),ye(n,f),J=!1,bl(he)}}}const ol=(l,e)=>e<3,al=(l,e)=>e<3;function yl(l,e,o){let{misura:t}=e;kl.locale("it");let a=!1;const i=()=>o(1,a=!0),v=()=>o(1,a=!1),z=()=>o(1,a=!0),w=()=>o(1,a=!1);return l.$$set=I=>{"misura"in I&&o(0,t=I.misura)},[t,a,i,v,z,w]}class Vl extends It{constructor(e){super(),kt(this,e,yl,Al,Tt,{misura:0})}}const{window:Ml}=Sl;function Fl(l){let e,o,t;return{c(){e=u("div"),this.h()},l(a){e=d(a,"DIV",{id:!0}),g(e).forEach(c),this.h()},h(){p(e,"id",l[0])},m(a,i){ee(a,e,i),o||(t=Ie(Ml,"resize",l[1]),o=!0)},p(a,[i]){i&1&&p(e,"id",a[0])},i:Ve,o:Ve,d(a){a&&c(e),o=!1,t()}}}function Rl(l,e,o){let t,{id:a="-"}=e,{values:i=[[]]}=e,v;function z(E,O,R){return'<div class="bg-white py-2 px-4 shadow rounded"><span><svg class="icon icon-primary"><use href="/svg/sprites.svg#it-info-circle"></use></svg><br/></span>Numero candidature: <strong>'+O+"</strong><br>Valore candidature: <strong>"+Ze(i[E+1][3])+"</strong><br> </div>"}El(async()=>{await k()});const w=(E,O)=>{if(window.google===void 0||!i)return;const R=window.google;if(Array.isArray(E))return R.visualization.arrayToDataTable(E,O);if(typeof E=="object")return new R.visualization.DataTable(i)},I=(E,O,R)=>{if(!E||!O)return;const P=w(O);P&&E.draw(P,R)},F=()=>{if(window.google===void 0)return;const E=document.getElementById(a);E&&(o(3,v=new google.visualization.TreeMap(E)),I(v,i,t))},k=async()=>{if(window.google===void 0)return;const E=window.google.charts;E.load("current",{packages:["treemap"],language:"it"}),E.setOnLoadCallback(F)};let C;const L=()=>{clearTimeout(C),C=setTimeout(()=>{I(v,i,t)},100)};return l.$$set=E=>{"id"in E&&o(0,a=E.id),"values"in E&&o(2,i=E.values)},l.$$.update=()=>{l.$$.dirty&28&&I(v,i,t)},o(4,t={highlightOnMouseOver:!0,headerHeight:15,showScale:!0,height:500,useWeightedAverageForAggregation:!0,generateTooltip:z,titleTextStyle:{fontSize:14,color:"#000000",bold:!1,italic:!1,fontName:"Titillium Web"}}),[a,L,i,v,t]}class Ol extends It{constructor(e){super(),kt(this,e,Rl,Fl,Tt,{id:0,values:2})}}function il(l,e,o){const t=l.slice();return t[21]=e[o],t}function nl(l,e,o){const t=l.slice();return t[24]=e[o],t}function sl(l,e,o){const t=l.slice();return t[24]=e[o],t}function cl(l,e,o){const t=l.slice();return t[24]=e[o],t}function ul(l,e,o){const t=l.slice();return t[31]=e[o],t}function dl(l){let e,o,t,a;return o=new Vl({props:{misura:l[31]}}),{c(){e=u("div"),rt(o.$$.fragment),t=A(),this.h()},l(i){e=d(i,"DIV",{class:!0});var v=g(e);ot(o.$$.fragment,v),t=y(v),v.forEach(c),this.h()},h(){p(e,"class","col-12 col-lg-6 my-4")},m(i,v){ee(i,e,v),at(o,e,null),r(e,t),a=!0},p(i,v){const z={};v[0]&256&&(z.misura=i[31]),o.$set(z)},i(i){a||(ge(o.$$.fragment,i),a=!0)},o(i){Te(o.$$.fragment,i),a=!1},d(i){i&&c(e),it(o)}}}function fl(l){let e,o,t=l[31].conteggioFornitori.length>0&&dl(l);return{c(){t&&t.c(),e=nt()},l(a){t&&t.l(a),e=nt()},m(a,i){t&&t.m(a,i),ee(a,e,i),o=!0},p(a,i){a[31].conteggioFornitori.length>0?t?(t.p(a,i),i[0]&256&&ge(t,1)):(t=dl(a),t.c(),ge(t,1),t.m(e.parentNode,e)):t&&(zl(),Te(t,1,1,()=>{t=null}),wl())},i(a){o||(ge(t),o=!0)},o(a){Te(t),o=!1},d(a){a&&c(e),t&&t.d(a)}}}function hl(l){let e,o=l[24]+"",t;return{c(){e=u("option"),t=ne(o),this.h()},l(a){e=d(a,"OPTION",{});var i=g(e);t=se(i,o),i.forEach(c),this.h()},h(){e.__value=l[24],Lt(e,e.__value)},m(a,i){ee(a,e,i),r(e,t)},p:Ve,d(a){a&&c(e)}}}function _l(l){let e,o=l[24]+"",t;return{c(){e=u("option"),t=ne(o),this.h()},l(a){e=d(a,"OPTION",{});var i=g(e);t=se(i,o),i.forEach(c),this.h()},h(){e.__value=l[24],Lt(e,e.__value)},m(a,i){ee(a,e,i),r(e,t)},p:Ve,d(a){a&&c(e)}}}function vl(l){let e,o=l[24]+"",t;return{c(){e=u("option"),t=ne(o),this.h()},l(a){e=d(a,"OPTION",{});var i=g(e);t=se(i,o),i.forEach(c),this.h()},h(){e.__value=l[24],Lt(e,e.__value)},m(a,i){ee(a,e,i),r(e,t)},p:Ve,d(a){a&&c(e)}}}function gl(l){let e,o=re(l[4]),t=[];for(let a=0;a<o.length;a+=1)t[a]=ml(il(l,o,a));return{c(){for(let a=0;a<t.length;a+=1)t[a].c();e=nt()},l(a){for(let i=0;i<t.length;i+=1)t[i].l(a);e=nt()},m(a,i){for(let v=0;v<t.length;v+=1)t[v]&&t[v].m(a,i);ee(a,e,i)},p(a,i){if(i[0]&17){o=re(a[4]);let v;for(v=0;v<o.length;v+=1){const z=il(a,o,v);t[v]?t[v].p(z,i):(t[v]=ml(z),t[v].c(),t[v].m(e.parentNode,e))}for(;v<t.length;v+=1)t[v].d(1);t.length=o.length}},d(a){a&&c(e),ye(t,a)}}}function ml(l){let e,o,t,a=l[21].Misura__c+"",i,v,z,w,I=l[0].enti.filter(D)[0].Name+"",F,k,C,L,E=Ze(l[21].outfunds__Awarded_Amount__c)+"",O,R,P,$,j=l[21].Stato_Progetto__c+"",J,he,W,V,_,n,f,b,h;function D(...N){return l[17](l[21],...N)}return{c(){e=u("tr"),o=u("td"),t=u("small"),i=ne(a),v=A(),z=u("td"),w=u("small"),F=ne(I),k=A(),C=u("td"),L=u("small"),O=ne(E),R=A(),P=u("td"),$=u("small"),J=ne(j),he=A(),W=u("td"),V=u("small"),_=u("a"),n=$t("svg"),f=$t("use"),h=A(),this.h()},l(N){e=d(N,"TR",{});var S=g(e);o=d(S,"TD",{});var T=g(o);t=d(T,"SMALL",{});var Y=g(t);i=se(Y,a),Y.forEach(c),T.forEach(c),v=y(S),z=d(S,"TD",{});var oe=g(z);w=d(oe,"SMALL",{});var K=g(w);F=se(K,I),K.forEach(c),oe.forEach(c),k=y(S),C=d(S,"TD",{});var ae=g(C);L=d(ae,"SMALL",{});var B=g(L);O=se(B,E),B.forEach(c),ae.forEach(c),R=y(S),P=d(S,"TD",{});var Q=g(P);$=d(Q,"SMALL",{});var Qe=g($);J=se(Qe,j),Qe.forEach(c),Q.forEach(c),he=y(S),W=d(S,"TD",{});var Me=g(W);V=d(Me,"SMALL",{});var _e=g(V);_=d(_e,"A",{href:!0,target:!0});var ie=g(_);n=xt(ie,"svg",{class:!0});var me=g(n);f=xt(me,"use",{href:!0}),g(f).forEach(c),me.forEach(c),ie.forEach(c),_e.forEach(c),Me.forEach(c),h=y(S),S.forEach(c),this.h()},h(){p(f,"href","/svg/sprites.svg#it-zoom-in"),p(n,"class","icon icon-sm icon-primary"),p(_,"href",b="/op/candidatura/"+l[21].Id),p(_,"target","_blank")},m(N,S){ee(N,e,S),r(e,o),r(o,t),r(t,i),r(e,v),r(e,z),r(z,w),r(w,F),r(e,k),r(e,C),r(C,L),r(L,O),r(e,R),r(e,P),r(P,$),r($,J),r(e,he),r(e,W),r(W,V),r(V,_),r(_,n),r(n,f),r(e,h)},p(N,S){l=N,S[0]&16&&a!==(a=l[21].Misura__c+"")&&be(i,a),S[0]&17&&I!==(I=l[0].enti.filter(D)[0].Name+"")&&be(F,I),S[0]&16&&E!==(E=Ze(l[21].outfunds__Awarded_Amount__c)+"")&&be(O,E),S[0]&16&&j!==(j=l[21].Stato_Progetto__c+"")&&be(J,j),S[0]&16&&b!==(b="/op/candidatura/"+l[21].Id)&&p(_,"href",b)},d(N){N&&c(e)}}}function Pl(l){let e,o,t="Soggetti realizzatori",a,i,v,z,w,I,F='<div data-bs-toggle="sticky" data-bs-stackable="true"><nav class="navbar it-navscroll-wrapper navbar-expand-lg it-bottom-navscroll it-right-side" data-bs-navscroll=""><button class="custom-navbar-toggler" type="button" aria-controls="navbarNavProgress" aria-expanded="false" aria-label="Toggle navigation" data-bs-toggle="navbarcollapsible" data-bs-target="#navbarNavProgress"><span class="it-list"></span>1. Riepilogo</button> <div class="progress custom-navbar-progressbar"><div class="progress-bar it-navscroll-progressbar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div></div> <div class="navbar-collapsable" id="navbarNavProgress"><div class="overlay"></div> <button type="button" class="it-back-button btn w-100 text-start"><svg class="icon icon-sm icon-primary align-top"><use href="/svg/sprites.svg#it-chevron-left" xlink:href="/svg/sprites.svg#it-chevron-left"></use></svg> <span>Indietro</span></button> <div class="menu-wrapper"><div class="link-list-wrapper"><h3>sezioni</h3> <div class="progress"><div class="progress-bar it-navscroll-progressbar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div></div> <ul class="link-list"><li class="nav-item"><a class="nav-link active" href="#riepilogo"><span>1. Riepilogo</span></a> <a class="nav-link" href="#principalifornitori"><span>2. Principali fornitori</span></a> <a class="nav-link" href="#distribuzione"><span>3. Distribuzione</span></a> <a class="nav-link" href="#candidature"><span>4. Candidature</span></a></li></ul></div></div></div></nav></div>',k,C,L,E=`<h4>Riepilogo</h4> <p>In questa sezione hai una visione dei soggetti realizzatori per le candidature
					appartenenti al tuo portafoglio.</p>`,O,R,P,$="Principali fornitori",j,J,he=`In questa sezione, per ogni misura, sono mostrati i principali fornitori, sia per numero\r
					di candidature sia per valore totale.`,W,V,_,n,f,b="Distribuzione totale",h,D,N="In questa sezion puoi visualizzare la distribuzione globale dei fornitori per <strong>numero di candidure</strong> e per <strong>valore</strong>.",S,T,Y="L'area dei rettangoli rappresenta il numero di candidature pesate sul totale mentre il colore rappresenta il valore delle candidature pesate sul totale.",oe,K,ae,B,Q,Qe="Candidature",Me,_e,ie,me,Ee,ke,St="Fornitore",st,ce,ct,Fe,we,Le,At="Misura",ut,ue,dt,Re,ze,Se,yt="Stato progetto",ft,de,ht,_t,vt,Oe,Pe,fe,He,Vt="Candidature risultanti in base ai filtri impostati",gt,Ne,Mt="<tr><th>Misura</th> <th>Ente</th> <th>Valore</th> <th>Stato progetto</th> <th></th></tr>",mt,qe,pt,Ue,Xe,je,ve,bt,Et,$e,wt,Ft;i=new Il({props:{text:"Sembra sempre impossibile fino a quando non è fatto.",author:"Nelson Mandela"}});let Ae=re(l[8].filter(pl)),q=[];for(let s=0;s<Ae.length;s+=1)q[s]=fl(ul(l,Ae,s));const Dl=s=>Te(q[s],1,1,()=>{q[s]=null});K=new Ol({props:{values:l[6]()}});let Be=re(l[11]),U=[];for(let s=0;s<Be.length;s+=1)U[s]=hl(cl(l,Be,s));let We=re(l[9]),X=[];for(let s=0;s<We.length;s+=1)X[s]=_l(sl(l,We,s));let Ge=re(l[10]),Z=[];for(let s=0;s<Ge.length;s+=1)Z[s]=vl(nl(l,Ge,s));let x=l[4]&&gl(l);function Cl(s){l[18](s)}function Tl(s){l[19](s)}let zt={rows:l[7],perPage:10};return l[5]!==void 0&&(zt.cp=l[5]),l[4]!==void 0&&(zt.trimmedRows=l[4]),ve=new Ll({props:zt}),Qt.push(()=>Zt(ve,"cp",Cl)),Qt.push(()=>Zt(ve,"trimmedRows",Tl)),{c(){e=u("div"),o=u("h1"),o.textContent=t,a=A(),rt(i.$$.fragment),v=A(),z=u("div"),w=u("div"),I=u("div"),I.innerHTML=F,k=A(),C=u("div"),L=u("div"),L.innerHTML=E,O=A(),R=u("div"),P=u("h4"),P.textContent=$,j=A(),J=u("p"),J.textContent=he,W=A(),V=u("div");for(let s=0;s<q.length;s+=1)q[s].c();_=A(),n=u("div"),f=u("h4"),f.textContent=b,h=A(),D=u("p"),D.innerHTML=N,S=A(),T=u("div"),T.textContent=Y,oe=A(),rt(K.$$.fragment),ae=A(),B=u("div"),Q=u("h4"),Q.textContent=Qe,Me=A(),_e=u("div"),ie=u("div"),me=u("div"),Ee=u("div"),ke=u("label"),ke.textContent=St,st=A(),ce=u("select");for(let s=0;s<U.length;s+=1)U[s].c();ct=A(),Fe=u("div"),we=u("div"),Le=u("label"),Le.textContent=At,ut=A(),ue=u("select");for(let s=0;s<X.length;s+=1)X[s].c();dt=A(),Re=u("div"),ze=u("div"),Se=u("label"),Se.textContent=yt,ft=A(),de=u("select");for(let s=0;s<Z.length;s+=1)Z[s].c();ht=A(),_t=u("hr"),vt=A(),Oe=u("div"),Pe=u("div"),fe=u("table"),He=u("caption"),He.textContent=Vt,gt=A(),Ne=u("thead"),Ne.innerHTML=Mt,mt=A(),qe=u("tbody"),x&&x.c(),pt=A(),Ue=u("tfoot"),Xe=u("tr"),je=u("th"),rt(ve.$$.fragment),this.h()},l(s){e=d(s,"DIV",{class:!0});var M=g(e);o=d(M,"H1",{"data-svelte-h":!0}),le(o)!=="svelte-1yezq16"&&(o.textContent=t),a=y(M),ot(i.$$.fragment,M),M.forEach(c),v=y(s),z=d(s,"DIV",{class:!0});var H=g(z);w=d(H,"DIV",{class:!0});var pe=g(w);I=d(pe,"DIV",{class:!0,"data-svelte-h":!0}),le(I)!=="svelte-1gz3ftn"&&(I.innerHTML=F),k=y(pe),C=d(pe,"DIV",{class:!0});var m=g(C);L=d(m,"DIV",{class:!0,id:!0,"data-svelte-h":!0}),le(L)!=="svelte-u8260p"&&(L.innerHTML=E),O=y(m),R=d(m,"DIV",{class:!0,id:!0});var G=g(R);P=d(G,"H4",{"data-svelte-h":!0}),le(P)!=="svelte-bfmuqx"&&(P.textContent=$),j=y(G),J=d(G,"P",{"data-svelte-h":!0}),le(J)!=="svelte-1295jt7"&&(J.textContent=he),W=y(G),V=d(G,"DIV",{class:!0});var Rt=g(V);for(let te=0;te<q.length;te+=1)q[te].l(Rt);Rt.forEach(c),G.forEach(c),_=y(m),n=d(m,"DIV",{class:!0,id:!0});var De=g(n);f=d(De,"H4",{"data-svelte-h":!0}),le(f)!=="svelte-1wbjp96"&&(f.textContent=b),h=y(De),D=d(De,"P",{"data-svelte-h":!0}),le(D)!=="svelte-k41bh6"&&(D.innerHTML=N),S=y(De),T=d(De,"DIV",{class:!0,role:!0,"data-svelte-h":!0}),le(T)!=="svelte-1yb6qqw"&&(T.textContent=Y),oe=y(De),ot(K.$$.fragment,De),De.forEach(c),ae=y(m),B=d(m,"DIV",{class:!0,id:!0});var Je=g(B);Q=d(Je,"H4",{"data-svelte-h":!0}),le(Q)!=="svelte-1cdtdy2"&&(Q.textContent=Qe),Me=y(Je),_e=d(Je,"DIV",{class:!0});var xe=g(_e);ie=d(xe,"DIV",{class:!0});var Ye=g(ie);me=d(Ye,"DIV",{class:!0});var Ot=g(me);Ee=d(Ot,"DIV",{class:!0});var et=g(Ee);ke=d(et,"LABEL",{for:!0,"data-svelte-h":!0}),le(ke)!=="svelte-1xqoqxs"&&(ke.textContent=St),st=y(et),ce=d(et,"SELECT",{id:!0,name:!0});var Pt=g(ce);for(let te=0;te<U.length;te+=1)U[te].l(Pt);Pt.forEach(c),et.forEach(c),Ot.forEach(c),ct=y(Ye),Fe=d(Ye,"DIV",{class:!0});var Ht=g(Fe);we=d(Ht,"DIV",{class:!0});var tt=g(we);Le=d(tt,"LABEL",{for:!0,"data-svelte-h":!0}),le(Le)!=="svelte-1ptkplo"&&(Le.textContent=At),ut=y(tt),ue=d(tt,"SELECT",{id:!0,name:!0});var Nt=g(ue);for(let te=0;te<X.length;te+=1)X[te].l(Nt);Nt.forEach(c),tt.forEach(c),Ht.forEach(c),dt=y(Ye),Re=d(Ye,"DIV",{class:!0});var qt=g(Re);ze=d(qt,"DIV",{class:!0});var lt=g(ze);Se=d(lt,"LABEL",{for:!0,"data-svelte-h":!0}),le(Se)!=="svelte-15pycrh"&&(Se.textContent=yt),ft=y(lt),de=d(lt,"SELECT",{id:!0,name:!0});var jt=g(de);for(let te=0;te<Z.length;te+=1)Z[te].l(jt);jt.forEach(c),lt.forEach(c),qt.forEach(c),Ye.forEach(c),ht=y(xe),_t=d(xe,"HR",{}),xe.forEach(c),vt=y(Je),Oe=d(Je,"DIV",{class:!0});var Bt=g(Oe);Pe=d(Bt,"DIV",{class:!0});var Wt=g(Pe);fe=d(Wt,"TABLE",{class:!0});var Ce=g(fe);He=d(Ce,"CAPTION",{"data-svelte-h":!0}),le(He)!=="svelte-vu476l"&&(He.textContent=Vt),gt=y(Ce),Ne=d(Ce,"THEAD",{"data-svelte-h":!0}),le(Ne)!=="svelte-y4reip"&&(Ne.innerHTML=Mt),mt=y(Ce),qe=d(Ce,"TBODY",{});var Gt=g(qe);x&&x.l(Gt),Gt.forEach(c),pt=y(Ce),Ue=d(Ce,"TFOOT",{});var Jt=g(Ue);Xe=d(Jt,"TR",{});var Yt=g(Xe);je=d(Yt,"TH",{colspan:!0});var Kt=g(je);ot(ve.$$.fragment,Kt),Kt.forEach(c),Yt.forEach(c),Jt.forEach(c),Ce.forEach(c),Wt.forEach(c),Bt.forEach(c),Je.forEach(c),m.forEach(c),pe.forEach(c),H.forEach(c),this.h()},h(){p(e,"class","container my-4"),p(I,"class","col-12 col-lg-2"),p(L,"class","it-page-section my-5"),p(L,"id","riepilogo"),p(V,"class","row my-6"),p(R,"class","it-page-section my-5"),p(R,"id","principalifornitori"),p(T,"class","alert alert-primary"),p(T,"role","alert"),p(n,"class","it-page-section my-5"),p(n,"id","distribuzione"),p(ke,"for","filterFornitore"),p(ce,"id","filterFornitore"),p(ce,"name","filterFornitore"),l[3]===void 0&&Dt(()=>l[14].call(ce)),p(Ee,"class","select-wrapper"),p(me,"class","col-12 col-lg-4 my-4"),p(Le,"for","filterMisura"),p(ue,"id","filterMisura"),p(ue,"name","filterMisura"),l[1]===void 0&&Dt(()=>l[15].call(ue)),p(we,"class","select-wrapper"),p(Fe,"class","col-12 col-lg-4 my-4"),p(Se,"for","filterProgetto"),p(de,"id","filterProgetto"),p(de,"name","filterProgetto"),l[2]===void 0&&Dt(()=>l[16].call(de)),p(ze,"class","select-wrapper"),p(Re,"class","col-12 col-lg-4 my-4"),p(ie,"class","row"),p(_e,"class","sticky-top bg-white"),p(je,"colspan","5"),p(fe,"class","table table-hover table-sm caption-top align-middle"),p(Pe,"class","table-responsive"),p(Oe,"class","container my-4"),p(B,"class","it-page-section my-5"),p(B,"id","candidature"),p(C,"class","col-12 col-lg-10 it-page-sections-container"),p(w,"class","row"),p(z,"class","container")},m(s,M){ee(s,e,M),r(e,o),r(e,a),at(i,e,null),ee(s,v,M),ee(s,z,M),r(z,w),r(w,I),r(w,k),r(w,C),r(C,L),r(C,O),r(C,R),r(R,P),r(R,j),r(R,J),r(R,W),r(R,V);for(let H=0;H<q.length;H+=1)q[H]&&q[H].m(V,null);r(C,_),r(C,n),r(n,f),r(n,h),r(n,D),r(n,S),r(n,T),r(n,oe),at(K,n,null),r(C,ae),r(C,B),r(B,Q),r(B,Me),r(B,_e),r(_e,ie),r(ie,me),r(me,Ee),r(Ee,ke),r(Ee,st),r(Ee,ce);for(let H=0;H<U.length;H+=1)U[H]&&U[H].m(ce,null);Ke(ce,l[3],!0),r(ie,ct),r(ie,Fe),r(Fe,we),r(we,Le),r(we,ut),r(we,ue);for(let H=0;H<X.length;H+=1)X[H]&&X[H].m(ue,null);Ke(ue,l[1],!0),r(ie,dt),r(ie,Re),r(Re,ze),r(ze,Se),r(ze,ft),r(ze,de);for(let H=0;H<Z.length;H+=1)Z[H]&&Z[H].m(de,null);Ke(de,l[2],!0),r(_e,ht),r(_e,_t),r(B,vt),r(B,Oe),r(Oe,Pe),r(Pe,fe),r(fe,He),r(fe,gt),r(fe,Ne),r(fe,mt),r(fe,qe),x&&x.m(qe,null),r(fe,pt),r(fe,Ue),r(Ue,Xe),r(Xe,je),at(ve,je,null),$e=!0,wt||(Ft=[Ie(ce,"change",l[14]),Ie(ue,"change",l[15]),Ie(de,"change",l[16])],wt=!0)},p(s,M){if(M[0]&256){Ae=re(s[8].filter(pl));let m;for(m=0;m<Ae.length;m+=1){const G=ul(s,Ae,m);q[m]?(q[m].p(G,M),ge(q[m],1)):(q[m]=fl(G),q[m].c(),ge(q[m],1),q[m].m(V,null))}for(zl(),m=Ae.length;m<q.length;m+=1)Dl(m);wl()}const H={};if(M[0]&64&&(H.values=s[6]()),K.$set(H),M[0]&2048){Be=re(s[11]);let m;for(m=0;m<Be.length;m+=1){const G=cl(s,Be,m);U[m]?U[m].p(G,M):(U[m]=hl(G),U[m].c(),U[m].m(ce,null))}for(;m<U.length;m+=1)U[m].d(1);U.length=Be.length}if(M[0]&2056&&Ke(ce,s[3]),M[0]&512){We=re(s[9]);let m;for(m=0;m<We.length;m+=1){const G=sl(s,We,m);X[m]?X[m].p(G,M):(X[m]=_l(G),X[m].c(),X[m].m(ue,null))}for(;m<X.length;m+=1)X[m].d(1);X.length=We.length}if(M[0]&514&&Ke(ue,s[1]),M[0]&1024){Ge=re(s[10]);let m;for(m=0;m<Ge.length;m+=1){const G=nl(s,Ge,m);Z[m]?Z[m].p(G,M):(Z[m]=vl(G),Z[m].c(),Z[m].m(de,null))}for(;m<Z.length;m+=1)Z[m].d(1);Z.length=Ge.length}M[0]&1028&&Ke(de,s[2]),s[4]?x?x.p(s,M):(x=gl(s),x.c(),x.m(qe,null)):x&&(x.d(1),x=null);const pe={};M[0]&128&&(pe.rows=s[7]),!bt&&M[0]&32&&(bt=!0,pe.cp=s[5],Ut(()=>bt=!1)),!Et&&M[0]&16&&(Et=!0,pe.trimmedRows=s[4],Ut(()=>Et=!1)),ve.$set(pe)},i(s){if(!$e){ge(i.$$.fragment,s);for(let M=0;M<Ae.length;M+=1)ge(q[M]);ge(K.$$.fragment,s),ge(ve.$$.fragment,s),$e=!0}},o(s){Te(i.$$.fragment,s),q=q.filter(Boolean);for(let M=0;M<q.length;M+=1)Te(q[M]);Te(K.$$.fragment,s),Te(ve.$$.fragment,s),$e=!1},d(s){s&&(c(e),c(v),c(z)),it(i),ye(q,s),it(K),ye(U,s),ye(X,s),ye(Z,s),x&&x.d(),it(ve),wt=!1,bl(Ft)}}}const pl=l=>l.avvisi.filter(e=>e.candidature.length>0);function Hl(l,e,o){let t,a,i,v,z,{data:w}=e,I,F=0;El(async()=>{await k()});const k=async()=>{var _=document.querySelector(".it-navscroll-wrapper"),n=bootstrap.NavScroll.getOrCreateInstance(_);n.setScrollPadding(function(){var f=document.querySelector(".it-header-wrapper");return f.offsetHeight+10})};let C=["Tutte le misure"].concat(Object.values(w.misure.reduce((_,{Name:n})=>(_[n]=_[n]||{Name:n,count:0},_[n].count++,_),Object.create(null))).map(_=>_.Name).sort()),L=C[0],E=["Tutti gli stati progetto"].concat(Object.values(w.candidature.reduce((_,{Stato_Progetto__c:n})=>(_[n]=_[n]||{Stato_Progetto__c:n,count:0},_[n].count++,_),Object.create(null))).map(_=>_.Stato_Progetto__c).sort()),O=E[0],R=["Tutti i fornitori"].concat(w.nomiFornitori),P=R[0];function $(){P=Ct(this),o(3,P),o(11,R)}function j(){L=Ct(this),o(1,L),o(9,C)}function J(){O=Ct(this),o(2,O),o(10,E)}const he=(_,n)=>n.Id===_.outfunds__Applying_Organization__c;function W(_){F=_,o(5,F)}function V(_){I=_,o(4,I)}return l.$$set=_=>{"data"in _&&o(0,w=_.data)},l.$$.update=()=>{l.$$.dirty[0]&1&&o(13,t=()=>{let _=w.misure;for(let n=0;n<w.misure.length;n++){_[n].conteggioFornitori=[],_[n].valoreFornitori=[];for(let f=0;f<_[n].avvisi.length;f++){let b=_[n].avvisi[f].candidature;for(let h=0;h<b.length;h++)if(b[h].fornitori&&b[h].fornitori.length>0)for(let D=0;D<b[h].fornitori.length;D++){let N=_[n].conteggioFornitori.filter(T=>T.nome===b[h].fornitori[D].Denominazione_Soggetto_Realizzatore__c);N&&N.length>0?_[n].conteggioFornitori.filter(T=>T.nome===b[h].fornitori[D].Denominazione_Soggetto_Realizzatore__c)[0].count=_[n].conteggioFornitori.filter(T=>T.nome===b[h].fornitori[D].Denominazione_Soggetto_Realizzatore__c)[0].count+1:_[n].conteggioFornitori.push({nome:b[h].fornitori[D].Denominazione_Soggetto_Realizzatore__c,count:1});let S=_[n].valoreFornitori.filter(T=>T.nome===b[h].fornitori[D].Denominazione_Soggetto_Realizzatore__c);S&&S.length>0?_[n].valoreFornitori.filter(T=>T.nome===b[h].fornitori[D].Denominazione_Soggetto_Realizzatore__c)[0].value=_[n].valoreFornitori.filter(T=>T.nome===b[h].fornitori[D].Denominazione_Soggetto_Realizzatore__c)[0].value+b[h].outfunds__Awarded_Amount__c:_[n].valoreFornitori.push({nome:b[h].fornitori[D].Denominazione_Soggetto_Realizzatore__c,value:b[h].outfunds__Awarded_Amount__c})}}_[n].conteggioFornitori=_[n].conteggioFornitori.sort((f,b)=>b.count-f.count),_[n].valoreFornitori=_[n].valoreFornitori.sort((f,b)=>b.value-f.value)}return _}),l.$$.dirty[0]&15&&o(12,a=()=>{let _=w.misure,n=[];for(let f=0;f<w.misure.length;f++)for(let b=0;b<_[f].avvisi.length;b++){let h=_[f].avvisi[b].candidature;n=n.concat(h)}return L!==C[0]&&(n=n.filter(f=>f.Misura__c===L)),O!==E[0]&&(n=n.filter(f=>f.Stato_Progetto__c===O)),P!==R[0]&&(n=n.filter(f=>f.fornitori.filter(b=>b.Denominazione_Soggetto_Realizzatore__c===P).length>0)),n}),l.$$.dirty[0]&8192&&o(8,i=t()),l.$$.dirty[0]&4096&&o(7,v=a()),l.$$.dirty[0]&1&&o(6,z=()=>{let _=w.misure,n=[];for(let b=0;b<w.misure.length;b++)for(let h=0;h<_[b].avvisi.length;h++){let D=_[b].avvisi[h].candidature;n=n.concat(D)}let f=[];return f.push(["Label","Parent","Numero","Valore"]),f.push(["Soggetti realizzatori",null,0,0]),w.nomiFornitori.forEach(b=>{let h=0,D=0;const N=n.filter(S=>S.fornitori.filter(T=>T.Denominazione_Soggetto_Realizzatore__c===b).length>0);h=h+N.length,D=D+N.reduce((S,T)=>S+parseInt(T.outfunds__Awarded_Amount__c),0),f.push([b,"Soggetti realizzatori",h,D]),N.length>0&&Object.values(N.reduce((T,{Misura__c:Y})=>(T[Y]=T[Y]||{Misura__c:Y,count:0},T[Y].count++,T),Object.create(null))).map(T=>T.Misura__c).sort().forEach(T=>{let Y=0,oe=0;const K=N.filter(ae=>ae.Misura__c===T);Y=Y+K.length,oe=oe+K.reduce((ae,B)=>ae+parseInt(B.outfunds__Awarded_Amount__c),0),f.push([T+"-"+b,b,Y,oe])})}),f})},[w,L,O,P,I,F,z,v,i,C,E,R,a,t,$,j,J,he,W,V]}class Kl extends It{constructor(e){super(),kt(this,e,Hl,Pl,Tt,{data:0},null,[-1,-1])}}export{Kl as component};
